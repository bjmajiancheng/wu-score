<!DOCTYPE html>
<html lang="en">
<head>
    <title>预约时间</title>
    #parse("common/header.html")
</head>

<body>
#parse("common/banner.html")

<!-- 主体部分 -->
<div class="integral-main-box">

    <!-- 左部导航 -->
    #parse("common/lefter.html")
    <!-- </script> -->
    <!-- 中间二级导航 -->

    <!-- 内容展示区 -->
    <div class="integral-cont">

        <!-- 示例title 面包屑导航 -->
        <div class="integral-grey-title-bar">
            <div class="title-bar-head">居住证积分</div>
            <div class="title-bar-after">预约</div>
        </div>
        <!-- 内容描述title -->
        <div class="integral-desc-title border-bottom">
            可预约时间
        </div>
        <div class="appointment-container">
            <div class="appointment-wrap">
                <div class="appointment-date">
                    日期：2017-09-22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;周五
                </div>
                <!-- 预约日历容器 -->
                <!-- 名额状态分为4个等级
                /* 名额充足 */
                appointment-full4
                /* 名额数量不多 */
                appointment-full3
                /* 名额数量较少 */
                appointment-full2
                /* 名额数量为0 */
                appointment-full1
                -->
                <div class="appointment-box  appointment-full1">
                    <div class="appointment-time">上午</div>
                    <div class="appointment-surplus">名额剩余：0</div>
                    <!-- 为了清除默认间距让两个box首尾相连 -->
                </div>
                <div class="appointment-box ml10  appointment-full2">
                    <div class="appointment-time">下午</div>
                    <div class="appointment-surplus">
                        名额剩余：5
                    </div>
                </div>
            </div>
            <div class="appointment-wrap">
                <div class="appointment-date">
                    日期：2017-09-22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;周五
                </div>
                <div class="appointment-box appointment-full1">
                    <div class="appointment-time">上午</div>
                    <div class="appointment-surplus">名额剩余：0</div>
                    <!-- 为了清除默认间距让两个box首尾相连 -->
                </div>
                <div class="appointment-box ml10  appointment-full2">
                    <div class="appointment-time">下午</div>
                    <div class="appointment-surplus">
                        名额剩余：8
                    </div>
                </div>
            </div>
            <div class="appointment-wrap">
                <div class="appointment-date">
                    日期：2017-09-22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;周五
                </div>
                <div class="appointment-box active  appointment-full3">
                    <div class="appointment-time">上午</div>
                    <div class="appointment-surplus">名额剩余：30</div>
                    <!-- 为了清除默认间距让两个box首尾相连 -->
                </div>
                <div class="appointment-box ml10  appointment-full4">
                    <div class="appointment-time">下午</div>
                    <div class="appointment-surplus">
                        名额剩余：123
                    </div>
                </div>
            </div>
            <div class="appointment-wrap">
                <div class="appointment-date">
                    日期：2017-09-22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;周五
                </div>
                <div class="appointment-box">
                    <div class="appointment-time">上午</div>
                    <div class="appointment-surplus">名额剩余：12</div>
                    <!-- 为了清除默认间距让两个box首尾相连 -->
                </div>
                <div class="appointment-box ml10">
                    <div class="appointment-time">下午</div>
                    <div class="appointment-surplus">
                        名额剩余：12
                    </div>
                </div>
            </div>
        </div>
        <!-- 验证码和底部按钮 -->
        <table class="check-table">
            <tbody>
            <tr>
                <td>
                    <span class="color-red">*</span>验证码：</td>
                <td>
                    <input class="integral-input w200" type="text">
                    <div class="checkimg">
                        <img src="img/checkcode.png" alt="">
                    </div>
                    <span class="click_me">看不清点我</span>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="integral-bottom-btn-group">
            <div class="interal-main-btn big-btn m15">下一步</div>
            <div class="interal-main-btn big-btn ml50">关闭</div>
        </div>
    </div>
</div>

<!-- 底部栏 footer -->
#parse("common/footer.html")
</body>
<script type="text/javascript">
    $(function(){
        currPage("reserveTime");
    });

    //利用Regular构建你的app吧
    var rowsRegular = Regular.extend({
        template: '#rows'
    });

    // initialize component then $inject to #app's  bottom
    var component = new rowsRegular({
        data: {guidebooks: []},
        load: function(data){
            $.ajax({
                type: "POST",
                url: "${rc.contextPath}/systemNotice/list",
                data: {"type": 2},
                dataType: "json",
                success: function(result){
                    var resultData = result.data;
                    if(result.code == 0){//登录成功
                        component.data.guidebooks = resultData.data;
                        component.$update();

                        $(".integral-paging-device-wrap2").pagination({pageCount: resultData.recordsTotal});
                    }else{
                        layer.alert(result.message);
                    }
                }
            });
        }
    });

    component.load();

    component.$inject('#app');
</script>

</html>

